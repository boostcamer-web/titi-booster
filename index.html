<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Titi Booster Flyer</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  color: #fff;
  font-family: Arial, Helvetica, sans-serif;
}

#game-wrapper {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

header {
  text-align: center;
  padding: 10px;
  font-size: 18px;
  font-weight: bold;
}

#gameContainer {
  flex: 1;
}

footer {
  background: rgba(0,0,0,0.9);
  padding: 10px;
  text-align: center;
  font-size: 14px;
}

footer strong {
  color: #00ffcc;
}
</style>
</head>

<body>
<div id="game-wrapper">

  <header>Titi Booster Flyer</header>

  <div id="gameContainer"></div>

  <footer>
    üéÅ Faites <strong>1000 points</strong> et obtenez <strong>1000F</strong> de bonus dans votre compte
    <strong>TheBoostConcept</strong><br>
    ‚õî Vous ne pouvez jouer que <strong>3 fois par semaine</strong>
  </footer>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.3/pixi.min.js"></script>

<script>
// ================= PIXI APP (FIX √âCRAN NOIR) =================
const app = new PIXI.Application({
  width: window.innerWidth,
  height: window.innerHeight,
  backgroundColor: 0x000000
});
document.getElementById("gameContainer").appendChild(app.view);

// ================= PLAYER (CARR√â DE TEST) =================
const player = new PIXI.Graphics();
player.beginFill(0x00ffcc);
player.drawRect(-25, -25, 50, 50);
player.endFill();
player.x = app.screen.width * 0.25;
player.y = app.screen.height / 2;
player.vy = 0;
app.stage.addChild(player);

// ================= SCORE =================
let score = 0;
const scoreText = new PIXI.Text("Score : 0", {
  fill: 0xffffff,
  fontSize: 20,
  fontWeight: "bold"
});
scoreText.x = 10;
scoreText.y = 10;
app.stage.addChild(scoreText);

// ================= COLLECTIBLE =================
const collectible = new PIXI.Graphics();
collectible.beginFill(0xff0066);
collectible.drawCircle(0, 0, 12);
collectible.endFill();
app.stage.addChild(collectible);

function resetCollectible() {
  collectible.x = app.screen.width + Math.random() * 200;
  collectible.y = 60 + Math.random() * (app.screen.height - 120);
}
resetCollectible();

// ================= CONTROLE =================
app.stage.eventMode = "static";
app.stage.on("pointerdown", () => {
  player.vy = -8;
});

// ================= GAME LOOP =================
app.ticker.add(() => {

  // gravit√©
  player.vy += 0.4;
  player.y += player.vy;

  // collectible
  collectible.x -= 3;
  if (collectible.x < -20) resetCollectible();

  // collision collectible
  if (
    Math.abs(player.x - collectible.x) < 30 &&
    Math.abs(player.y - collectible.y) < 30
  ) {
    score += 50;
    scoreText.text = "Score : " + score;
    resetCollectible();
  }

  // mort si chute
  if (player.y < 0 || player.y > app.screen.height) {
    gameOver();
  }

  // victoire
  if (score >= 1000) {
    alert("üéâ F√©licitations ! Vous avez gagn√© 1000F sur TheBoostConcept");
    location.reload();
  }
});

// ================= GAME OVER =================
function gameOver() {
  alert(
    "GAME OVER !\n\nVotre score : " +
    score +
    "\n\nR√©essayez pour gagner les 1000F"
  );
  location.reload();
}
</script>
</body>
</html>
